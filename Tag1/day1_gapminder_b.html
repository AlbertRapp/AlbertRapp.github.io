<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-0.9.165">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Albert Rapp">
  <title>WiWi BrushUp Kurs 2022</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>

  <script src="day1_gapminder_b_files/libs/clipboard/clipboard.min.js"></script>
  <script src="day1_gapminder_b_files/libs/quarto-html/quarto.js"></script>
  <script src="day1_gapminder_b_files/libs/quarto-html/popper.min.js"></script>
  <script src="day1_gapminder_b_files/libs/quarto-html/tippy.umd.min.js"></script>
  <script src="day1_gapminder_b_files/libs/quarto-html/anchor.min.js"></script>
  <link href="day1_gapminder_b_files/libs/quarto-html/tippy.css" rel="stylesheet">
  <link id="quarto-text-highlighting-styles" href="day1_gapminder_b_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
  <script src="day1_gapminder_b_files/libs/bootstrap/bootstrap.min.js"></script>
  <link href="day1_gapminder_b_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
  <link href="day1_gapminder_b_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc">
<h2 id="toc-title">Inhaltsverzeichnis</h2>
<ul>
<li><a href="#zielsetzung" class="nav-link active" data-scroll-target="#zielsetzung">Zielsetzung</a></li>
<li><a href="#aufgaben" class="nav-link" data-scroll-target="#aufgaben">Aufgaben</a></li>
</ul>
</nav>
</div>
<main class="content" id="quarto-document-content">
<header id="title-block-header" class="quarto-title-block default">




<div class="quarto-title"><h1 class="title display-7">WiWi BrushUp Kurs 2022</h1><p class="subtitle lead">Gapminder - Statistische Transformationen</p></div><div class="quarto-title-meta"><div><div class="quarto-title-meta-heading">Author</div><div class="quarto-title-meta-contents"><div class="quarto-title-authors"><div><div>
<p>Albert Rapp</p>
</div></div></div></div></div><div><div class="quarto-title-meta-heading">Published</div><div class="quarto-title-meta-contents"><p class="date">April 8, 2022</p></div></div></div></header>

<section id="zielsetzung" class="level1">
<h1>Zielsetzung</h1>
<p>Unser Ziel ist einfach.</p>
<p><strong>Schritt 1:</strong> Plots durch statistische Transformationen mit <code>ggplot2</code> generieren.</p>
<p><strong>Schritt 2:</strong> Kunstwerke als NFTs verkaufen und reich werden.</p>
</section>
<section id="aufgaben" class="level1">
<h1>Aufgaben</h1>
<p>Wir gucken uns in dieser Lektion wieder den <code>gapminder</code>-Datensatz an. Falls die Packages <code>tidyverse</code> und <code>gapminder</code> nicht mehr geladen sind, so musst du wieder die folgenden Befehle ausführen.</p>
<div class="cell">

</div>
<p>Zunächst wollen wir erstmal zählen, wie oft welcher Kontinent in dem Datensatz <code>gapminder</code> vertreten ist. Erzeuge die folgende Grafik.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="day1_gapminder_b_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Afrika ist ein gigantisch großer Kontinent mit vielen Ländern. Da macht es nur Sinn, dass dieser Kontinent am häufigsten vorkommt. Als nächstes wollen wir uns anschauen, wie die dokumentierten Lebenserwartungen im <code>gapminder</code>-Datensatz verteilt sind. Hier wollen wir nicht nach Jahren oder sonstigen Merkmalen filtern. Wir wollen einfach die Verteilung aller verfügbaren Datenpunkte angucken. Erzeuge dafür das folgende Histogramm (<code>geom_histogram()</code> oder <code>stat_bin()</code> - falls du es vergessen haben solltest).</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="day1_gapminder_b_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Ok, hier sieht es nun so aus, als gäbe es es zwei Peaks. Vielleicht sieht man das besser, wenn wir die Balkendiagramme schmaler machen (und somit mehr Balken verwenden). Dies können wir beeinflussen, indem wir Optionen verändern. Wir haben beim Ausführen von <code>geom_histogram()</code> bzw. <code>stat_bin()</code> die folgende Nachricht erhalten. Diese enthält einen Hinweis, welche Option wir verändern könnten, um mehr Balken in unserem Histogramm zu verwenden.</p>
<div class="cell">
<div class="cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
</div>
<p>Wenn du diesen ausgeklügelten Hinweis entschlüsselt hast, dann erzeuge folgendes Histogramm, dass die entsprechende Option auf 100 setzt.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="day1_gapminder_b_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Anstatt die Anzahl von Balken beliebig hochzusetzen, können wir aber auch eine <a href="https://de.wikipedia.org/wiki/Wahrscheinlichkeitsdichtefunktion">Wahrscheinlichkeitsdichtefunktion</a> schätzen (Ihr erinnert euch hoffentlich aus eurer Stochastikgrundvorlesung, dass eine Dichtefunktion ein Merkmal einer <strong>stetigen</strong> Verteilung ist). Das entspricht quasi einem Histogramm mit “unendlich dünnen Balken”. Ersetze dafür <code>geom_histogram()</code> durch <code>stat_density()</code> (ohne Optionen).</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="day1_gapminder_b_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Sieht ähnlich aus wie unser Histogramm oder? Im Prinzip ist das eine Art “stetige Version” unserer Histogramme. Probiere auch <code>geom_density()</code> statt <code>stat_density()</code> zu verwenden. Dadurch solltest du erkennen, dass <code>geom_density()</code> andere geometrische Objekte (Fläche anstatt Linie) verwendet als <code>stat_density()</code>, um die gleichen berechneten Größen grafisch darzustellen. Wenn wir wollen, haben wir also die Freiheit dies nach unseren Wünschen anzupassen:</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="sourceCode r cell-code code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># size = 0.25, damit man auch einzelne Punkte erkennen kann</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_density</span>(<span class="at">geom =</span> <span class="st">'point'</span>, <span class="at">size =</span> <span class="fl">0.25</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="day1_gapminder_b_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Da wir nun ein bisschen besser sehen, dass es hier zwei Peaks gibt, sollten wir dem auf den Grund gehen. Wir ahnen es vielleicht schon: Es gibt Regionen mit sehr hoher und Regionen mit sehr niedriger Lebenserwartung. Dies erzeugt die Mischung, die wir hier sehen. Wir könnten für Klarheit sorgen, indem wir unterschiedlichen Kontinenten unterschiedliche Farben zuordnen. Gucken wir uns zunächst einmal an, wie das am Ende aussehen könnte.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="day1_gapminder_b_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>An diesem Plot habe ich schon einiges angepasst und wir werden das Schritt für Schritt nachbauen. Zunächst können wir aber schon mal feststellen, dass wir Recht hatten. Leider gibt es große Unterschiede zwischen den Kontinenten. Insbesondere Afrika weicht stark nach unten ab, was den linken Peak in unserer vorherigen Grafik erklärt.</p>

</section>
</main>
<!-- /main column -->
<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    setTimeout(function() {
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->


</body></html>